import{_ as s,o as a,c as l,a as n}from"./app.57a3dbd1.js";const t="/assets/dev.f9db0cbc.png",e="/assets/dev2.ee240f26.png",o="/assets/uia.577bee5a.png",E=JSON.parse('{"title":"基础教学","description":"","frontmatter":{"contributors":["ZhouYixun"]},"headers":[{"level":2,"title":"一、登陆至内部Sonic平台","slug":"一、登陆至内部sonic平台","link":"#一、登陆至内部sonic平台","children":[]},{"level":2,"title":"二、克隆官方例子仓库（可选）","slug":"二、克隆官方例子仓库-可选","link":"#二、克隆官方例子仓库-可选","children":[]},{"level":2,"title":"三、后续脚本执行","slug":"三、后续脚本执行","link":"#三、后续脚本执行","children":[{"level":3,"title":"关于远程adb地址和远程uia2地址的获取","slug":"关于远程adb地址和远程uia2地址的获取","link":"#关于远程adb地址和远程uia2地址的获取","children":[]}]},{"level":2,"title":"常见问题","slug":"常见问题","link":"#常见问题","children":[]}],"relativePath":"ide/ide-demo.md","lastUpdated":1716537034000}'),p={name:"ide/ide-demo.md"},i=n('<h1 id="基础教学" tabindex="-1">基础教学 <a class="header-anchor" href="#基础教学" aria-hidden="true">#</a></h1><p>本文是IDE的基础教学。感谢您的观看</p><h2 id="一、登陆至内部sonic平台" tabindex="-1">一、登陆至内部Sonic平台 <a class="header-anchor" href="#一、登陆至内部sonic平台" aria-hidden="true">#</a></h2><ol><li>打开IDE后，点击右上方登录按钮</li></ol><p><img src="'+t+'" alt="登录图片"></p><ol start="2"><li>填入相关信息</li></ol><table><thead><tr><th>字段名</th><th>描述信息</th></tr></thead><tbody><tr><td>Address</td><td>内部Sonic平台地址，填入部署时填入的 SONIC_SERVER_HOST:SONIC_SERVER_PORT 即可，例如: 192.168.1.1:3000</td></tr><tr><td>UserName</td><td>登录用户名</td></tr><tr><td>Password</td><td>登录密码</td></tr></tbody></table><ol start="3"><li>登录后即可看到设备列表</li></ol><p><img src="'+e+`" alt="设备图片"></p><h2 id="二、克隆官方例子仓库-可选" tabindex="-1">二、克隆官方例子仓库（可选） <a class="header-anchor" href="#二、克隆官方例子仓库-可选" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">提示</p><p>这一步面向小白教学，如果你有丰富的编程经验，可以跳过这一步</p></div><ol><li>前往 <a href="https://github.com/SonicCloudOrg/sonic-uiautomation-example" target="_blank" rel="noreferrer">sonic-uiautomation-example</a>，点击右上角fork到自己的仓库下。</li><li>克隆fork后的仓库到本地</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://github.com/你的用户名/sonic-uiautomation-example.git</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>选择你的语言目录，以java为例</li><li>打开IDE，选择当前项目目录，进入到<code>java-example</code>下</li><li>选择一个设备进行远控</li><li>将右侧adb远程地址与uia远程地址替换到example下的数据</li></ol><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">DemoUITest</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// Test Data</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">AndroidDriver</span><span style="color:#A6ACCD;"> androidDriver</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> adbUrl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">192.168.0.9:49858</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">//替换这里</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> uiaUrl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://192.168.0.9:7777/uia/49860</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">//替换这里</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> appPackage </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.android.settings</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><ol start="7"><li>在IDE的终端执行</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">mvn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"></span></code></pre></div><ol start="8"><li>恭喜，已经运行好Demo了！</li></ol><h2 id="三、后续脚本执行" tabindex="-1">三、后续脚本执行 <a class="header-anchor" href="#三、后续脚本执行" aria-hidden="true">#</a></h2><h3 id="关于远程adb地址和远程uia2地址的获取" tabindex="-1">关于远程adb地址和远程uia2地址的获取 <a class="header-anchor" href="#关于远程adb地址和远程uia2地址的获取" aria-hidden="true">#</a></h3><p>我们在调试过程中，IDE可以很方便获取adb远程连接或者uia2远程连接地址，但是我们在脱离IDE运行脚本过程中，怎么去获取这两个地址呢？</p><p>可以调用Sonic的Rest API获取。可以查看 ➡️ <a href="https://sonic-cloud.cn/doc/doc-rest.html#%E9%80%9A%E8%BF%87rest-api%E5%8D%A0%E7%94%A8%E8%AE%BE%E5%A4%87%E5%B9%B6%E8%8E%B7%E5%8F%96%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95%E4%BF%A1%E6%81%AF" target="_blank" rel="noreferrer">这里</a></p><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-hidden="true">#</a></h2><p>Q1: 为什么我调用第三方框架（如STF、fastBot等）会启动不了服务？</p><p>A1: 因为会跟Sonic的UIAutomator2底层的instrument冲突，可以点击这里关闭服务。但是实时获取控件会暂时无法使用，可以点击旁边的启动按钮重新启动。后续脱离IDE运行脚本时，如果调用了HTTP远程占用设备接口，可以不填写uia2的端口，uia2的服务就不会启动。 <img src="`+o+'" alt="uia"></p>',25),r=[i];function c(d,C,D,A,h,y){return a(),l("div",null,r)}const F=s(p,[["render",c]]);export{E as __pageData,F as default};
