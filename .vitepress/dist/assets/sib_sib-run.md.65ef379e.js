import{_ as s,o as t,c as a,a as e}from"./app.57a3dbd1.js";const b=JSON.parse('{"title":"XCTest相关","description":"","frontmatter":{"contributors":["ZhouYixun"]},"headers":[{"level":2,"title":"启动 WebDriverAgent Server","slug":"启动-webdriveragent-server","link":"#启动-webdriveragent-server","children":[]},{"level":2,"title":"可用选项","slug":"可用选项","link":"#可用选项","children":[]},{"level":2,"title":"其他XCTest","slug":"其他xctest","link":"#其他xctest","children":[{"level":3,"title":"运行fastbot示例","slug":"运行fastbot示例","link":"#运行fastbot示例","children":[]}]},{"level":2,"title":"可用选项","slug":"可用选项-1","link":"#可用选项-1","children":[]}],"relativePath":"sib/sib-run.md","lastUpdated":1716537034000}'),n={name:"sib/sib-run.md"},l=e(`<h1 id="xctest相关" tabindex="-1">XCTest相关 <a class="header-anchor" href="#xctest相关" aria-hidden="true">#</a></h1><p>本文介绍如何发起XCTest。</p><h2 id="启动-webdriveragent-server" tabindex="-1">启动 WebDriverAgent Server <a class="header-anchor" href="#启动-webdriveragent-server" aria-hidden="true">#</a></h2><p>输入指令</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">sib</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wda</span></span>
<span class="line"></span></code></pre></div><p>即可简单启动 WebDriverAgent！可以浏览器访问 <a href="http://localhost:8100/status" target="_blank" rel="noreferrer">http://localhost:8100/status</a> 查看wda状态。</p><hr><p>一般地，我们的bundleId都是自定义的， 这时候可以加上 <strong>-b</strong> 或 <strong>--bundleId</strong> 选项指定，如果不包含 <strong>.xctrunner</strong> 会自动补全。</p><p>输入指令</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">sib</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wda</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">org.cloud.sonic.WebDriverAgentRunner</span></span>
<span class="line"></span></code></pre></div><hr><p>如果我们需要自定义wda的启动port和转发port，我们可以加上 <strong>--server-local-port</strong> 选项和 <strong>--server-remote-port</strong> 来指定.</p><p>输入指令</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">sib</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wda</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">org.cloud.sonic.WebDriverAgentRunner</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--server-local-port=8101</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--server-remote-port=8200</span></span>
<span class="line"></span></code></pre></div><p>可以浏览器访问 <a href="http://localhost:8200/status" target="_blank" rel="noreferrer">http://localhost:8200/status</a> 查看wda状态。</p><hr><p>类似地，mjpeg-server的配置也是如此。</p><p>输入指令</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">sib</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wda</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">org.cloud.sonic.WebDriverAgentRunner</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--mjpeg-local-port=8101</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--mjpeg-remote-port=8200</span></span>
<span class="line"></span></code></pre></div><h2 id="可用选项" tabindex="-1">可用选项 <a class="header-anchor" href="#可用选项" aria-hidden="true">#</a></h2><table><thead><tr><th>快捷使用</th><th>选项名</th><th>数据类型</th><th>描述信息</th></tr></thead><tbody><tr><td>-b</td><td>--bundleId</td><td>string</td><td>WebDriverAgent的包名（支持模糊匹配）</td></tr><tr><td></td><td>--disable-mjpeg-proxy</td><td></td><td>不转发mjpeg-server服务端口</td></tr><tr><td></td><td>--disable-show-log</td><td></td><td>不打印WebDriverAgentRunner服务的日志</td></tr><tr><td></td><td>--mjpeg-local-port</td><td>int</td><td>mjpeg-server本地启动端口</td></tr><tr><td></td><td>--mjpeg-remote-port</td><td>int</td><td>mjpeg-server转发端口</td></tr><tr><td></td><td>--server-local-port</td><td>int</td><td>WebDriverAgentRunner本地启动端口</td></tr><tr><td></td><td>--server-remote-port</td><td>int</td><td>WebDriverAgentRunner转发端口</td></tr><tr><td>-u</td><td>--udid</td><td>string</td><td>指定目标udid设备，不指定默认获取列表第一个设备</td></tr><tr><td>-h</td><td>--help</td><td></td><td>获取帮助指南</td></tr></tbody></table><h2 id="其他xctest" tabindex="-1">其他XCTest <a class="header-anchor" href="#其他xctest" aria-hidden="true">#</a></h2><p>输入指令</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">sib</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">xctest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">your.app.bundleId</span></span>
<span class="line"></span></code></pre></div><hr><p>一般地，我们会启动时带上多个参数 输入指令</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">sib</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">xctest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">your.app.bundleId</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TEST_ENV_1=hello</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TEST_ENV_2=world</span></span>
<span class="line"></span></code></pre></div><h3 id="运行fastbot示例" tabindex="-1">运行fastbot示例 <a class="header-anchor" href="#运行fastbot示例" aria-hidden="true">#</a></h3><div class="tip custom-block"><p class="custom-block-title">注意</p><p>因为wda与fastbot底层有共同部分，所以两个框架进程可能会有互相阻塞或冲突。因此wda与fastbot不建议同时运行。</p></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">sib</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">xctest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fastbot的bundleId</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">BUNDLEID=被测应用的bundleId</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">duration=测试时长</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">throttle=</span><span style="color:#F78C6C;">300</span></span>
<span class="line"></span></code></pre></div><h2 id="可用选项-1" tabindex="-1">可用选项 <a class="header-anchor" href="#可用选项-1" aria-hidden="true">#</a></h2><table><thead><tr><th>快捷使用</th><th>选项名</th><th>数据类型</th><th>描述信息</th></tr></thead><tbody><tr><td>-b</td><td>--bundleId</td><td>string</td><td>测试包的包名（支持模糊匹配）</td></tr><tr><td>-e</td><td>--env</td><td>[]string</td><td>附带参数</td></tr><tr><td>-u</td><td>--udid</td><td>string</td><td>指定目标udid设备，不指定默认获取列表第一个设备</td></tr><tr><td>-h</td><td>--help</td><td></td><td>获取帮助指南</td></tr></tbody></table>`,32),o=[l];function r(p,d,c,i,C,h){return t(),a("div",null,o)}const D=s(n,[["render",r]]);export{b as __pageData,D as default};
