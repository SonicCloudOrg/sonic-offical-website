import{_ as t,o as e,c as d,a as i}from"./app.57a3dbd1.js";const P=JSON.parse('{"title":"REST API","description":"","frontmatter":{"contributors":["ZhouYixun"]},"headers":[{"level":2,"title":"查看文档","slug":"查看文档","link":"#查看文档","children":[]},{"level":2,"title":"在线调试HTTP接口","slug":"在线调试http接口","link":"#在线调试http接口","children":[]},{"level":2,"title":"部分HTTP API讲解","slug":"部分http-api讲解","link":"#部分http-api讲解","children":[{"level":3,"title":"通过REST API占用设备并获取远程调试信息","slug":"通过rest-api占用设备并获取远程调试信息","link":"#通过rest-api占用设备并获取远程调试信息","children":[]},{"level":3,"title":"通过REST API释放设备","slug":"通过rest-api释放设备","link":"#通过rest-api释放设备","children":[]}]}],"relativePath":"doc/doc-rest.md","lastUpdated":1716537034000}'),a={name:"doc/doc-rest.md"},r=i('<h1 id="rest-api" tabindex="-1">REST API <a class="header-anchor" href="#rest-api" aria-hidden="true">#</a></h1><p>这里是Sonic的Http协议Rest API文档使用教程。</p><h2 id="查看文档" tabindex="-1">查看文档 <a class="header-anchor" href="#查看文档" aria-hidden="true">#</a></h2><ol><li>点击页面右上角头像悬浮框的 [关于Sonic]</li><li>点击REST API</li><li>即可进入文档页面</li></ol><h2 id="在线调试http接口" tabindex="-1">在线调试HTTP接口 <a class="header-anchor" href="#在线调试http接口" aria-hidden="true">#</a></h2><ol><li>搜索/login接口，进行登陆</li><li>获取登陆后的返回值，这便是你的Token。（也可以直接在Sonic头像下拉框的创建Token直接生成）</li><li>前往API页面的【文档管理】</li><li>点击【全局参数】</li><li>新增一个名为SonicToken的全局参数，value的值为你的Token，类型选择header。</li><li>完成！可以选择你需要调试的Http接口愉快的在线调试啦～</li></ol><h2 id="部分http-api讲解" tabindex="-1">部分HTTP API讲解 <a class="header-anchor" href="#部分http-api讲解" aria-hidden="true">#</a></h2><h3 id="通过rest-api占用设备并获取远程调试信息" tabindex="-1">通过REST API占用设备并获取远程调试信息 <a class="header-anchor" href="#通过rest-api占用设备并获取远程调试信息" aria-hidden="true">#</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>该功能需升级至Sonic v2.5.0</p></div><ol><li>参考REST API的文档发起对应HTTP请求</li><li>请求后，设备将进入<code>占用中</code>状态，可占用时长会受后台管理中心的最大占用时长影响，使用完毕记得再次发起 <strong>释放设备</strong> 的请求哦。</li><li>可以使用返回的结果进行远程adb连接、远程wda连接等。</li></ol><blockquote><p>${baseURL}/server/api/controller/devices/occupy</p></blockquote><table><thead><tr><th>Body字段</th><th>字段解析</th><th>例子</th></tr></thead><tbody><tr><td>udId</td><td>设备udId（必填）</td><td>abcdefg</td></tr><tr><td>sasRemotePort</td><td>（仅Android设备生效）设备adb远程连接端口。非必填，为0或不填时不暴露也不启动对应服务，建议取值范围30000-65535。</td><td>30001</td></tr><tr><td>uia2RemotePort</td><td>（仅Android设备生效）设备uia2 server远程连接端口。非必填，为0或不填时不暴露也不启动对应服务，建议取值范围30000-65535。</td><td>30002</td></tr><tr><td>sibRemotePort</td><td>（仅iOS设备生效）设备sib远程连接端口。非必填，为0或不填时不暴露也不启动对应服务，建议取值范围30000-65535。</td><td>30003</td></tr><tr><td>wdaServerRemotePort</td><td>（仅iOS设备生效）设备wda server远程连接端口。非必填，为0或不填时不暴露也不启动对应服务，建议取值范围30000-65535。</td><td>30004</td></tr><tr><td>wdaMjpegRemotePort</td><td>（仅iOS设备生效）设备wda mjpeg远程连接端口。非必填，为0或不填时不暴露也不启动对应服务，建议取值范围30000-65535。</td><td>30005</td></tr></tbody></table><h3 id="通过rest-api释放设备" tabindex="-1">通过REST API释放设备 <a class="header-anchor" href="#通过rest-api释放设备" aria-hidden="true">#</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>该功能需升级至Sonic v2.5.0，与 <code>通过REST API占用设备并获取远程调试信息</code> 接口配合使用。</p></div><ol><li>参考REST API的文档发起对应HTTP请求</li></ol><blockquote><p>${baseURL}/server/api/controller/devices/release?udId=xxxx</p></blockquote><ol start="2"><li>请求后，设备将进入解除<code>占用中</code>状态，并且占用期间的sas、sib、uia2、wda等服务也会一并释放资源。</li></ol>',17),l=[r];function o(s,c,n,h,p,u){return e(),d("div",null,l)}const b=t(a,[["render",o]]);export{P as __pageData,b as default};
