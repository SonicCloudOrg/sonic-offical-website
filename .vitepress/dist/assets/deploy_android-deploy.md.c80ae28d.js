import{_ as i,o as l,c as t,a}from"./app.57a3dbd1.js";const m=JSON.parse('{"title":"安卓设备接入","description":"","frontmatter":{"contributors":["ZhouYixun","wuxiangin","lanlanz","shinyvince","lixf6"]},"headers":[{"level":2,"title":"通用接入步骤","slug":"通用接入步骤","link":"#通用接入步骤","children":[]},{"level":2,"title":"华为","slug":"华为","link":"#华为","children":[]},{"level":2,"title":"小米","slug":"小米","link":"#小米","children":[]},{"level":2,"title":"OPPO（含Realme）","slug":"oppo-含realme","link":"#oppo-含realme","children":[]},{"level":2,"title":"vivo（含IQOO）","slug":"vivo-含iqoo","link":"#vivo-含iqoo","children":[]},{"level":2,"title":"OnePlus","slug":"oneplus","link":"#oneplus","children":[]},{"level":2,"title":"Motorola","slug":"motorola","link":"#motorola","children":[]},{"level":2,"title":"Samsung","slug":"samsung","link":"#samsung","children":[]},{"level":2,"title":"魅族","slug":"魅族","link":"#魅族","children":[]},{"level":2,"title":"常见问题（Q&A）","slug":"常见问题-q-a","link":"#常见问题-q-a","children":[]}],"relativePath":"deploy/android-deploy.md","lastUpdated":1716537034000}'),e={name:"deploy/android-deploy.md"},o=a('<h1 id="安卓设备接入" tabindex="-1">安卓设备接入 <a class="header-anchor" href="#安卓设备接入" aria-hidden="true">#</a></h1><p>本文将介绍安卓设备接入 Sonic 相关内容。</p><h2 id="通用接入步骤" tabindex="-1">通用接入步骤 <a class="header-anchor" href="#通用接入步骤" aria-hidden="true">#</a></h2><p>所有设备都需要按照这个步骤接入。</p><ol><li>将 usb 线一端插入 Agent，另一端插入手机</li><li>进入手机【设置】页面</li><li>进入【关于手机】页面</li><li>点击多次【版本号】（不同品牌的差异请往下查找），直到开启开发者选项</li><li>进入开发者选项</li><li>打开 usb 调试</li><li>保持设备竖放或平放</li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>如果需要进行性能信息采集，可以额外打开如下选项</p><ol><li>开发者选项中点击【GPU呈现模式分析】（部分机型叫【HWUI呈现模式分析】）</li><li>在【GPU呈现模式分析】中，点击选中【在adb shell dumpsys gfxinfo中】</li></ol><p>若升级Sonic后，Sonic 插件、uiautomator2、uiautomator2-test 的版本有更新，手机可能会还原相关电源优化。 故需要重新检查一遍，确保Sonic 插件、uiautomator2、uiautomator2-test 电量优化关配置正确</p></div><p>各品牌不同内容可往下翻阅 👇</p><h2 id="华为" tabindex="-1">华为 <a class="header-anchor" href="#华为" aria-hidden="true">#</a></h2><ol><li>进入【设置】-&gt;【关于手机】-&gt;【版本号】多次点击开启开发者选项</li><li>进入开发者选项，关闭【监控 ADB 安装应用】</li><li>进入【系统和更新】-&gt;【语言和输入法】关闭安全键盘</li></ol><h2 id="小米" tabindex="-1">小米 <a class="header-anchor" href="#小米" aria-hidden="true">#</a></h2><ol><li>进入【设置】-&gt;【我的设备】-&gt;【全部参数】-&gt;【MIUI 版本】多次点击开启开发者选项</li><li>打开开发者页面，【USB 安装】和【USB 调试（安全模式）】打开，部分选项需要插入 SIM 卡，可以配置完成后拔出。</li><li>开发者最底下【MIUI 优化】关闭</li><li>前往手机管家，打开【应用管理】</li><li>点击【权限】</li><li>点击右上角设置 icon</li><li>关闭权限监控与 USB 安装监控</li><li>【语言与输入法】关闭安全键盘</li><li>【设置】-&gt;【省电与电池】右上角设置icon-&gt;【应用智能省电】</li><li>找到sonic、uiautomator2、uiautomator2-test -&gt; 【无限制】</li></ol><h2 id="oppo-含realme" tabindex="-1">OPPO（含Realme） <a class="header-anchor" href="#oppo-含realme" aria-hidden="true">#</a></h2><ol><li>进入【设置】-&gt;【系统管理】-&gt;【关于手机】-&gt;【版本信息】-&gt;【软件版本】多次点击开启开发者选项</li><li>进入开发者选项，开启最下方【禁止权限监控】，关闭【USB 验证应用】</li><li>打开系统电量设置</li><li>将 Sonic 插件、uiautomator2、uiautomator2-test 的电量优化关闭</li><li>将 Sonic插件、uiautomator2、uiautomator2-test耗电行为设置为【完全允许后台行为】</li><li>【其他】-&gt;【键盘与输入法】关闭安全键盘</li></ol><h2 id="vivo-含iqoo" tabindex="-1">vivo（含IQOO） <a class="header-anchor" href="#vivo-含iqoo" aria-hidden="true">#</a></h2><ol><li>进入【设置】-&gt;【系统管理】-&gt;【关于手机】-&gt;【版本信息】-&gt;【软件版本】多次点击开启开发者选项</li><li>进入开发者选项，开启【安全权限】与【USB 模拟点击】</li><li>【其他】-&gt;【键盘与输入法】关闭安全键盘</li><li>将 Sonic 插件、uiautomator2、uiautomator2-test 的电量优化关闭</li><li>将 Sonic插件、uiautomator2、uiautomator2-test耗电行为设置为【完全允许后台行为】</li></ol><h2 id="oneplus" tabindex="-1">OnePlus <a class="header-anchor" href="#oneplus" aria-hidden="true">#</a></h2><ol><li>进入【设置】-&gt;【关于手机】-&gt;【版本号】多次点击开启开发者选项</li><li>进入【设置】-&gt;【系统】-&gt;【开发者选项】，开启【USB 调试】</li><li>进入【设置】-&gt;【系统】-&gt;【开发者选项】-&gt;【默认 USB 配置】选择文件传输</li><li>进入【设置】-&gt;【电池】-&gt;【电池优化】，将 Sonic 插件、uiautomator2、uiautomator2-test 的电量优化关闭（如果找不到，需要先进行第五步）</li><li>将 Sonic插件、uiautomator2、uiautomator2-test耗电行为设置为【完全允许后台行为】</li><li>部分 OnePlus 需要开启【禁止权限监控】</li></ol><h2 id="motorola" tabindex="-1">Motorola <a class="header-anchor" href="#motorola" aria-hidden="true">#</a></h2><ol><li>进入【设置】-&gt;【关于手机】-&gt;【硬件版本】或【版本号】多次点击开启开发者选项；</li><li>进入【设置】-&gt;【系统】-&gt;【开发者选项】，【开发者选项】和【USB 调试】都打开，【默认USB配置】选择”文件传输“；</li><li>进入【设置】-&gt;【安全与密码】，【屏幕锁定】中对手机不要上锁；</li></ol><h2 id="samsung" tabindex="-1">Samsung <a class="header-anchor" href="#samsung" aria-hidden="true">#</a></h2><ol><li>进入【设置】-&gt;【关于手机】-&gt;【软件信息】-&gt;【编译编号】多次点击开启开发者选项；</li><li>进入【设置】-&gt;【开发者选项】，【开发者选项】和【USB 调试】都打开，【默认USB配置】选择”传输文件/Android Auto“；</li><li>进入【设置】-&gt;【开发者选项】，【不锁定屏幕】打开；</li><li>进入【设置】-&gt;【锁定屏幕】-&gt;【屏幕解锁类型】，选择“不锁屏”。</li></ol><h2 id="魅族" tabindex="-1">魅族 <a class="header-anchor" href="#魅族" aria-hidden="true">#</a></h2><ol><li>打开【手机管家】-&gt;【设置】-&gt;【Flyme 支付保护】，将其关闭。</li></ol><h2 id="常见问题-q-a" tabindex="-1">常见问题（Q&amp;A） <a class="header-anchor" href="#常见问题-q-a" aria-hidden="true">#</a></h2><p>Q1: 远控后出现【Driver 初始化失败！】之类的提示</p><p>A1: 查看日志会有多种情况：</p><ol><li>如果出现 apksigner 的字样，请确认安卓 SDK 的 built-tool 正确以及 platform-tool 下有 apksigner.jar</li><li>如果出现 shell 指令出错的字样，一般是设备权限没打开。</li></ol><hr><p>Q2: OPPO 手机出现 requires:android.permission.WRITE_SECURE_SETTINGS 类似的提示</p><p>A2: 一般是设备没有在开发者选项最下方开启【禁止权限监控】</p><hr><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>更多疑问可前往 👉<a href="https://discord.gg/c9ZD6jSyTE" target="_blank" rel="noreferrer">社区</a>👈 交流</p></div>',32),r=[o];function n(s,d,h,u,c,g){return l(),t("div",null,r)}const S=i(e,[["render",n]]);export{m as __pageData,S as default};
